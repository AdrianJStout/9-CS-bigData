<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Little Big Data</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<link rel="stylesheet" type="text/css" href="css/styles.css"/>
<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu' rel='stylesheet' type='text/css'>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
<script src="js/navbar.js" type="text/javascript"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Little Big Data</h1>
  <div class="github-fork-ribbon-wrapper left">
    <div class="github-fork-ribbon">
      <a href="https://github.com/stsb11/7-SC-boards">Fork me on GitHub</a>
    </div>
  </div>
<div id="stickyribbon">
    <ul>
      <li><a href="1_Lesson.html">Week1</a></li>
      <li><a href="2_Lesson.html">Week2</a></li>
      <li><a href="3_Lesson.html">Week3</a></li>
      <li><a href="4_Lesson.html">Week4</a></li>
    </ul>
  </div>
<div id="outline-container-sec-1" class="outline-2 activity">
<h2 id="sec-1"><span class="section-number-2">1</span> Graph-ics</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-sec-1-1" class="outline-3 try">
<h3 id="sec-1-1">Try It</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>Graphs are important when humans need visualisations of a large data set to help them look for patterns and meaning. 
</li>
<li>In this lesson, we're going to investigate climate change in the UK since about 1910, and you'll be able to draw your own conclusions about global warming.
</li>
<li>Before we get too carried away, we'll start by drawing a simple line graph and then build up to something more elaborate.
</li>
<li>Load up IDLE, start a new program (File -&gt; New) and copy the code below into the window:
</li>
</ul>

<div class="org-src-container">

<pre class="src src-python"># matplotlib - the Python graph-drawing library
import matplotlib.pyplot as plt
import numpy

# Set the X and Y values (same number of elements in both lists)
yVals= [0,1,4,9,16,25,36,49,64,81,100,121]
xVals= [0,1,2,3,4,5,6,7,8,9,10,11]

# Plot the graph line
plt.plot(xVals,yVals)

# Add some labels
plt.xlabel('x axis')
plt.ylabel('y axis')
plt.title('Graph title goes here')

# Show the finished graph
plt.show()
</pre>
</div>

<ul class="org-ul">
<li>One of the great things with Python is its ability to import <a href="https://xkcd.com/353/">new functionality</a> to give it new abilities, like drawing graphics, playing sound, drawing graphs, performing complex mathematics and so on. 
</li>
<li>Our program starts by importing a graph-drawing library. This contains extra functions that Python doesn't normally have. 
</li>
<li>We then set the values we want to assign to the X and Y axes. 
<ul class="org-ul">
<li>I've plotted a little bit of the y = x<sup>2</sup> graph, from x=0 to 11. 
</li>
</ul>
</li>
<li>We get Python to plot the actual graph
</li>
<li>And we then add labels to the X and Y axis.
</li>
<li>Finally, we ask Python to show the graph. 
</li>
<li><b>Try it:</b> Change some of the values, and plot a different line. 
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3 learn">
<h3 id="sec-1-2">Learn It</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>As part of a drive to be more transparent, the UK Government have released a little over 25000 raw data sets for anyone to access. You can browse them <a href="http://data.gov.uk/data/search">here</a>.
</li>
<li>We'll look at some climate data from the met office (the UK weather agency). The latest versions of their datasets can  be freely downloaded from their site <a href="http://www.metoffice.gov.uk/climate/uk/summaries/datasets">here</a>.
</li>
<li>Scientists believe that in general, the World is getting hotter over time due to the burning of fossil fuels. We'll write a short program to graph over a century's worth of data to see if we can spot a pattern.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3 code">
<h3 id="sec-1-3">Code It</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>Download the <b>UK mean temp</b> (make sure you get it <b>year ordered</b>, which is about half-way down the page) dataset to your computer, and open it in a text editor (eg. Notepad).
</li>
<li>The first 7 lines of the file contain a short introduction to what's in the file. This isn't much help to us. Delete all these lines, so that the very first thing in your text file is 'Year, JAN, FEB, etc'.
</li>
<li>Save this file in the same folder you've been saving your code into, and ensure that the filename is <b>uk.txt</b>.
</li>
<li>Next, create (and save) a new Python program with this code:
</li>
</ul>

<div class="org-src-container">

<pre class="src src-python"># Python graph-drawing with matplotlib.
import matplotlib.pyplot as plt
import csv

# Open the data file, and read the data in.
with open("UK.txt", 'r') as csvfile:
    reader=csv.reader(csvfile,delimiter=' ',skipinitialspace=True)
    data=list(reader)
    # Remove the first row, which has the column headers in it.
    data.pop(0)

# Pick up the individual rows, one by one.
for eachYear in range (0,len(data)):
    thisYr=data[eachYear]   # thisYear is a single year's data.
    whichYr=thisYr[0] # whichYr is the year we're looking at (e.g. 1960)

    # Trim off the year (we don't want to plot that)
    thisYr.pop(0)
    # Trim off the last 5 records (these are Season averages)
    del thisYr[len(thisYr)-5:len(thisYr)]

    # Plot the line for that year.
    plt.plot(thisYr,label=whichYr)

# then add some labels
plt.ylabel('Mean temperature')
plt.xlabel('Month')
plt.title('UK Mean Temperatures')
# legend = plt.legend(loc='lower center', shadow=True, fontsize='x-small')

# and show the finished graph
plt.show()
</pre>
</div>

<ul class="org-ul">
<li>We've got over a century of weather data here. Each line represents a year's average temperature. We've commented out the 'legend=' line, as if we didn't (try un-commenting it), it obscures the graph. 
</li>
<li>On the x-axis, January is month 0, February is 1, December is 11. 
</li>
<li>Ignoring that you can't tell which year is which (at the moment), could you make any conclusions about what the graph shows? 
</li>
<li>An example could be: <i>The hottest mean temperature ever was in July, and was about 17.5 degrees</i>. 
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3 try">
<h3 id="sec-1-4">Remix It</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>We set out to look at climate change. 
</li>
<li>As we've got so many data points, its hard to see which line corresponds to which year. We could do with seeing less data.
</li>
<li>Find the line (towards the top) that says:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-python">for eachYear in range (0,len(data)):
</pre>
</div>
<ul class="org-ul">
<li>Change it to:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-python">for eachYear in range (0,len(data),30):
</pre>
</div>
<ul class="org-ul">
<li>The numbers in brackets after range are doing the following:
<ul class="org-ul">
<li>the 0 is saying to start with the first year's (1910) data
</li>
<li>the <b>len(data)</b> command gets the length of the dataset (over 100 years worth), and tells the loop to repeat until it has looked at this many records,
</li>
<li>The 30 tells Python that rather than reading each and every one of the 100+ records, we want to read every 30th one instead. 
</li>
</ul>
</li>
<li>This'll produce only 4 plotted lines, making the graph easier on the eye and also giving room to show the labels that tell us which line is which (the legend). 
</li>
<li>To enable labels, remove the hash symbol from the start of the line that says:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"># legend = plt.legend(loc='lower center', shadow=True, fontsize='x-small')
</pre>
</div>
<ul class="org-ul">
<li>Consider the data. Can you see any evidence to support global warming? Try starting from 1911 or 1912 instead (change that 0 at the start of the range to 1, 2, etc).  
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3 badge">
<h3 id="sec-1-5">Badge It</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>Produce a short report on the UK climate, using graphs to support your arguments.
</li>
</ul>


<ul class="org-ul">
<li><b>Silver</b> - In addition to one for the whole UK, plot at least one other graph, and comment on it.
</li>
<li><b>Gold</b> - Produce multiple graphs and make appropriate conclusions.
</li>
<li><b>Platinum</b> - Plot data from multiple sources on the same graph, and comment on them. You could compare Scotland and the South of England over the past 2 years, for instance.
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
